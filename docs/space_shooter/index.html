<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  <title>Generic Presentation</title>

  <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0"/>

  <link rel="stylesheet" href=".//css/reset.css" type="text/css"/>

  

  <link type="text/css" href=".//css/fg.menu.css" media="screen" rel="stylesheet" />
  <link type="text/css" href=".//css/theme/ui.all.css" media="screen" rel="stylesheet" />
  <link type="text/css" href=".//css/sh_style.css" rel="stylesheet" />
  <link type="text/css" href=".//css/tipsy.css" rel="stylesheet" />

  <link rel="stylesheet" href=".//css/showoff.css" type="text/css"/>

  <script type="text/javascript" src=".//js/jquery-1.4.2.min.js"></script>
  <script type="text/javascript" src=".//js/jquery.cycle.all.js"></script>
	<script type="text/javascript" src=".//js/jquery-print.js"></script>
  <script type="text/javascript" src=".//js/jquery.batchImageLoad.js"></script>
  <script type="text/javascript" src=".//js/jquery.parsequery.min.js"></script>
  <script type="text/javascript" src=".//js/jquery.doubletap-0.1.js"></script>
  <script type="text/javascript" src=".//js/jquery.tipsy.js"></script>

  <script type="text/javascript" src=".//js/fg.menu.js"></script>
  <script type="text/javascript" src=".//js/showoff.js"></script>
  <script type="text/javascript" src=".//js/jTypeWriter.js"> </script>
  <script type="text/javascript" src=".//js/sh_main.min.js"></script>
  <script type="text/javascript" src=".//js/core.js"></script>
  <script type="text/javascript" src=".//js/showoffcore.js"></script>
  <script type="text/javascript" src=".//js/coffee-script.js"></script>

  
    
      <script type="text/javascript" src=".//js/sh_lang/sh_html.min.js"></script>
    
      <script type="text/javascript" src=".//js/sh_lang/sh_coffeescript.min.js"></script>
    
  

  
    
    <link rel="stylesheet" href=".//file/style.css" type="text/css"/>
  

  

  <script type="text/javascript">
    $(function(){
      setupPreso(false, './');
    });

    editUrl  = "";
  </script>

</head>

<body>

<a tabindex="0" href="#search-engines" class="fg-button fg-button-icon-right ui-widget ui-state-default ui-corner-all" id="navmenu"><span class="ui-icon ui-icon-triangle-1-s"></span>slides</a>
<div id="navigation" class="hidden"></div>
<a tabindex="1" href="#search-engines" class="fg-button fg-button-icon-right ui-widget ui-state-default ui-corner-all" id="stylemenu"><span class="ui-icon ui-icon-triangle-1-s"></span>styles</a>
<div id="stylepicker" class="hidden"></div>


<div id="help">
  <table>
    <tr><td class="key">z, ?</td><td>toggle help (this)</td></tr>
    <tr><td class="key">space, &rarr;</td><td>next slide</td></tr>
    <tr><td class="key">shift-space, &larr;</td><td>previous slide</td></tr>
    <tr><td class="key">b</td><td>blank screen</td></tr>
    <tr><td class="key">d</td><td>toggle debug mode</td></tr>
    <tr><td class="key">## &lt;ret&gt;</td><td>go to slide #</td></tr>
    <tr><td class="key">c, t</td><td>table of contents (vi)</td></tr>
    <tr><td class="key">f</td><td>toggle footer</td></tr>
    <tr><td class="key">g</td><td>toggle follow</td></tr>
    <tr><td class="key">r</td><td>reload slides</td></tr>
    <tr><td class="key">n</td><td>toggle notes</td></tr>
    <tr><td class="key">p</td><td>run preshow</td></tr>
    <tr><td class="key">P</td><td>toggle pause</td></tr>
    <tr><td class="key">s</td><td>choose style</td></tr>
  </table>
</div>

<div class="buttonNav">
  <input type="submit" onClick="prevStep();" value="prev"/>
  <input type="submit" onClick="nextStep();" value="next"/>
</div>

<div id="preso"><center>loading presentation...</center></div>
<div id="footer">
  <span id="followMode"></span>
  <span id="slideInfo"></span>
  <span id="debugInfo"></span>
  <span id="notesInfo"></span>
  <span id="slideFilename"></span>
  <img id="disconnected" src=".//css/disconnected.png" />
</div>

<div id="slides" class="offscreen" style="display:none;">
<html><body>
<div id="./slides" class="slide " data-transition="none">
<div class="content " ref="./slides/1">
<h1>Generic Presentation</h1>

<h2>on the subject of</h2>

<h1>Generic Space Shooter</h1>

<p class="footnote">Presented this 15th day of August</p>

<p class="footnote">by Two Guys</p>
</div>
</div>
</body></html><html><body>
<div id="./slides" class="slide " data-transition="none">
<div class="content " ref="./slides/2">
<h2>We made a game.</h2>

<div class="footnote">(Part of one, anyway.)</div>
</div>
</div>
</body></html><html><body>
<div id="./slides" class="slide " data-transition="none">
<div class="content " ref="./slides/3">
<p><a href="http://space-shooter.kyleshipley.com">space-shooter.kyleshipley.com</a></p>
</div>
</div>
</body></html><html><body>
<div id="./slides" class="slide " data-transition="none">
<div class="content " ref="./slides/4">
<h2>How did we do it?</h2>
</div>
</div>
</body></html><html><body>
<div id="./slides" class="slide small" data-transition="none">
<div class="content small" ref="./slides/5">
<pre class="sh_html"><code>
&lt;canvas id="game" width="500" height="300"&gt;
  Canvas not supported.
&lt;/canvas&gt;</code></pre>
</div>
</div>
</body></html><html><body>
<div id="./slides" class="slide " data-transition="none">
<div class="content " ref="./slides/6">
<h1>The End</h1>
</div>
</div>
</body></html><html><body>
<div id="./slides" class="slide " data-transition="none">
<div class="content " ref="./slides/7">
<p>j/k</p>

<div class="footnote">(lulz)</div>
</div>
</div>
</body></html><html><body>
<div id="./slides" class="slide small" data-transition="none">
<div class="content small" ref="./slides/8">
<h1>Core concepts:</h1>

<ul>
<li>Canvas</li>
<li>Drawing Context</li>
<li>Drawing Commands</li>
<li>Sprites</li>
<li>Keyboard Handling</li>
<li>Audio</li>
<li>Game Loop</li>
</ul>
</div>
</div>
</body></html><html><body>
<div id="./slides" class="slide " data-transition="none">
<div class="content " ref="./slides/9">
<h2>Amateur Warning!</h2>

<p>We've made part of a game once. YMMV.</p>
</div>
</div>
</body></html><html><body>
<div id="./slides" class="slide " data-transition="none">
<div class="content " ref="./slides/10">
<h2>Coffeescript Warning!</h2>

<div class="footnote">(That's why we did this.)</div>
</div>
</div>
</body></html><html><body>
<div id="./slides" class="slide small" data-transition="none">
<div class="content small" ref="./slides/11">
<h2>Canvas</h2>

<pre class="sh_coffeescript"><code>
# Note: You don't have to use jQuery,
# and we're kind of idiots for doing it.

canvas = $('canvas#game')</code></pre>
</div>
</div>
</body></html><html><body>
<div id="./slides" class="slide small" data-transition="none">
<div class="content small" ref="./slides/12">
<h2>Drawing Context</h2>

<pre class="sh_coffeescript"><code>
context = canvas.get(0).getContext('2d')</code></pre>

<p>(There's no 3d -- it's webgl.)</p>
</div>
</div>
</body></html><html><body>
<div id="./slides" class="slide " data-transition="none">
<div class="content " ref="./slides/13">
<h2>Drawing Commands</h2>
</div>
</div>
</body></html><html><body>
<div id="./slides" class="slide small" data-transition="none">
<div class="content small" ref="./slides/14">
<h2>fillRect</h2>

<pre class="sh_coffeescript"><code>
context.fillRect x, y, w, h</code></pre>
</div>
</div>
</body></html><html><body>
<div id="./slides" class="slide small" data-transition="none">
<div class="content small" ref="./slides/15">
<h2>clearRect</h2>

<pre class="sh_coffeescript"><code>
context.clearRect x, y, w, h</code></pre>

<p>(You'll need this for your game loop.)</p>
</div>
</div>
</body></html><html><body>
<div id="./slides" class="slide small" data-transition="none">
<div class="content small" ref="./slides/16">
<h2>drawImage</h2>

<pre class="sh_coffeescript"><code>
context.drawImage img, x, y

context.drawImage img, x, y, w, h

# Useful with sprite sheets
context.drawImage img, sx, sy, sw, sh,
                        x,  y,  w,  h</code></pre>
</div>
</div>
</body></html><html><body>
<div id="./slides" class="slide " data-transition="none">
<div class="content " ref="./slides/17">
<h2>More complicated examples</h2>
</div>
</div>
</body></html><html><body>
<div id="./slides" class="slide small" data-transition="none">
<div class="content small" ref="./slides/18">
<h2>Drawing a light blue circle</h2>

<pre class="sh_coffeescript"><code>
context.globalAlpha = 1

context.lineWidth = 25

context.beginPath()

context.strokeStyle = "#aaaaff"

context.arc x, y, radius, startAngle,
  endAngle, counterClockwise

context.closePath()

context.stroke()</code></pre>
</div>
</div>
</body></html><html><body>
<div id="./slides" class="slide small" data-transition="none">
<div class="content small" ref="./slides/19">
<h2>Making something wobble (+ push/pop context)</h2>

<pre class="sh_coffeescript"><code>
# Note: Translation happens in terms of
# the origin, kind of like an OpenGL camera.

context.save()

context.translate x, y

context.rotate angle

context.translate -x, -y

context.drawImage img, x, y, width, height

context.restore()</code></pre>

<p>(Kind of like OpenGL transformation matrices)</p>
</div>
</div>
</body></html><html><body>
<div id="./slides" class="slide small" data-transition="none">
<div class="content small" ref="./slides/20">
<h2>Sprites</h2>

<pre class="sh_coffeescript"><code>
sprite = new Image()

sprite.src = 'foo.png'</code></pre>
</div>
</div>
</body></html><html><body>
<div id="./slides" class="slide small" data-transition="none">
<div class="content small" ref="./slides/21">
<h2>Keyboard Handling</h2>

<pre class="sh_coffeescript"><code>
# Remember, we used jQuery FOR NO RAISIN.

$(document).keydown (event) -&gt; # handler

$(document).keyup (event) -&gt; # handler

$(document).keypress (event) -&gt; # handler

$.ui.keyCode.LEFT # or RIGHT, or SPACE</code></pre>
</div>
</div>
</body></html><html><body>
<div id="./slides" class="slide small" data-transition="none">
<div class="content small" ref="./slides/22">
<h2>Audio</h2>

<pre class="sh_coffeescript"><code>
sound = new Audio("file.wav")

sound.play()

sound.pause()

# what we did for bgm

&lt;audio id="bgm" src="sound.ogg" preload autoplay&gt;
  Audio element not supported.
&lt;/audio&gt;</code></pre>
</div>
</div>
</body></html><html><body>
<div id="./slides" class="slide small" data-transition="none">
<div class="content small" ref="./slides/23">
<h2>Game Loop</h2>

<pre class="sh_coffeescript"><code>
# It turns out that setInterval
# is not the best way to do this.
# Stay tuned!

setInterval gameLoop, 17 # ~60 fps

gameLoop -&gt;

  updateObjects()

  drawObjects() # clearing the canvas first</code></pre>
</div>
</div>
</body></html><html><body>
<div id="./slides" class="slide small" data-transition="none">
<div class="content small" ref="./slides/24">
<h2>You now have all of the elements necessary to make a game:</h2>

<ul>
<li><p>Draw shapes and images</p></li>
<li><p>Move shapes and images</p></li>
<li><p>Play some sounds</p></li>
<li><p>Repeat ad nauseum</p></li>
</ul>
</div>
</div>
</body></html><html><body>
<div id="./slides" class="slide smaller" data-transition="none">
<div class="content smaller" ref="./slides/25">
<h2>Collision Detection</h2>

<p>(Fine, fine. You probably need this too.)</p>

<pre class="sh_coffeescript"><code>
rectanglesIntersect = (r1, r2) -&gt;
  r1.x &lt; r2.x + r2.width  &amp;&amp; r1.x + r1.width  &gt; r2.x &amp;&amp;
  r1.y &lt; r2.y + r2.height &amp;&amp; r1.y + r1.height &gt; r2.y</code></pre>

<p><br>
<br>
<br>
Collision detection gets harder as the shapes
<br>
get more complex and more objects collide.</p>
</div>
</div>
</body></html><html><body>
<div id="./slides" class="slide smaller" data-transition="none">
<div class="content smaller" ref="./slides/26">
<h2>Anthony's Particle Engine</h2>

<pre class="sh_coffeescript"><code>
particles = []
ttl = 200 * Math.random() + 200

for i in [0..9]
  for j in [0..9]
    particles.push
      velocity:
        x: Math.random() * 2 - 1
        y: Math.random() * 2 + ySpeed
      position:
        x: systemX + i * 3
        y: systemY + j * 3
      width: 3
      height: 3
      timeToLive: ttl
      originalTimeToLive: ttl
      expired: false

particleSystems.push
  expired: false
  particles: particles
  color: color</code></pre>
</div>
</div>
</body></html><html><body>
<div id="./slides" class="slide small" data-transition="none">
<div class="content small" ref="./slides/27">
<h2>Future Improvements</h2>

<ul>
<li><p>Game object instead of global state</p></li>
<li><p>Less coupled algorithms</p></li>
<li>
<p>Start extracting a game framework</p>

<ul>
<li>But build a game first</li>
</ul>
</li>
<li>
<p>Better animation</p>

<ul>
<li>Replace setInterval / clearInterval with requestAnimationFrame / cancelAnimationFrame</li>
</ul>
</li>
</ul>
</div>
</div>
</body></html><html><body>
<div id="./slides" class="slide " data-transition="none">
<div class="content " ref="./slides/28">
<h1>Questions?</h1>

<p><a href="http://presentations.kyleshipley.com">presentations.kyleshipley.com</a></p>

<p>@kyleashipley / @panozzaj</p>
</div>
</div>
</body></html></div>
<div id="pauseScreen">
  PAUSED
</div>

</body>
</html>
